const { specialLog } = require("./format-log");

/**
 * Check for the needed vars to see if they're all ready
 * @param {Array<string>} envVars - A list of all the environment variables to check
 */
module.exports = (envVars) => {
  const neededVars = [];
  let canStart = true;

  for (const envVar of envVars) {
    if (!process.env[envVar]) {
      canStart = false;
      neededVars.push(envVar);
    }
  }

  if (!canStart) {
    specialLog(`Can't start the app, these environment variables are missing: ${neededVars}`);
    process.kill(process.pid);
  }
};
